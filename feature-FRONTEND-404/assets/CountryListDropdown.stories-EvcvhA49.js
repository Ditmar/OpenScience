import{j as r}from"./jsx-runtime-BlDnFLNC.js";import{r as p}from"./index-Cu9bd8lq.js";import{A as T}from"./Avatar-4O48lIBe.js";import{P as k}from"./ButtonBase-yWijcu91.js";import{T as S}from"./Typography-BEckGW4w.js";import{B as h}from"./Box-CLM-zTBi.js";import{a as I}from"./listItemTextClasses-O-EESPze.js";import{L as q,a as D}from"./ListItemText-D6rigdoj.js";import"./generateUtilityClasses-BGeLZbGS.js";import"./extends-CF3RwP-h.js";import"./createTheme-BhqqGhI8.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-B89909lT.js";import"./memoTheme-DWglNnq3.js";import"./DefaultPropsProvider-Bo1NlgOs.js";import"./createSvgIcon-lnlTiNha.js";import"./useSlot-DmLfsEy8.js";import"./useForkRef-CXZ2Yisc.js";import"./extendSxProp-Bwz5inzR.js";import"./assertThisInitialized-C1KLUksq.js";import"./index-D9d2sRT4.js";import"./useEnhancedEffect-BAizwhs3.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";function A({src:e,alt:d,size:o=24}){return r.jsx(T,{src:e,alt:d,sx:{width:o,height:o,marginRight:1.5}})}A.__docgenInfo={description:"",methods:[],displayName:"CountryFlag",props:{src:{required:!0,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}}}};const y=p.forwardRef(({countries:e,onSelectCountry:d,selectedCountryCode:o,highlightIndex:m,headerText:l,maxHeight:u=314},a)=>r.jsxs(k,{elevation:3,sx:t=>({zIndex:1300,width:"100%",borderRadius:t.spacing(1.5),backgroundColor:"background.paper",overflow:"hidden"}),children:[l&&r.jsx(S,{variant:"h6",sx:{p:2,fontWeight:"bold"},children:l}),r.jsx(h,{ref:a,sx:{maxHeight:u,overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#8A3FFC",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#772ce8"}},children:r.jsx(I,{dense:!0,disablePadding:!0,role:"presentation",children:e.map((t,s)=>r.jsxs(q,{selected:o===t.code,onClick:()=>{d(t.code)},sx:{padding:"12px 16px","&.Mui-selected":{backgroundColor:"action.focus","&:hover":{backgroundColor:"action.focus"}},...m===s&&{backgroundColor:"action.hover"}},role:"option","aria-selected":o===t.code,id:`country-item-${t.code}`,children:[r.jsx(A,{src:t.flag,alt:t.name}),r.jsx(D,{primary:`${t.name} (${t.dialCode})`,sx:{ml:2}})]},t.code))})})]}));y.displayName="CountrySelectList";y.__docgenInfo={description:"",methods:[],displayName:"CountrySelectList",props:{countries:{required:!0,tsType:{name:"Array",elements:[{name:"Country"}],raw:"Country[]"},description:""},onSelectCountry:{required:!0,tsType:{name:"signature",type:"function",raw:"(countryCode: string) => void",signature:{arguments:[{type:{name:"string"},name:"countryCode"}],return:{name:"void"}}},description:""},selectedCountryCode:{required:!1,tsType:{name:"string"},description:""},highlightIndex:{required:!0,tsType:{name:"number"},description:""},headerText:{required:!1,tsType:{name:"string"},description:""},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"314",computed:!1}}}};function x({countries:e=[],selectedCountry:d,onSelectCountry:o,maxHeight:m=314,width:l=366,headerText:u="Select Country"}){const[a,t]=p.useState(-1),s=p.useRef(null);return p.useEffect(()=>{const c=d?e.findIndex(n=>n.code===d):-1;if(t(c),s.current&&c!==-1){const n=s.current.querySelector(`#country-item-${e[c].code}`);n==null||n.scrollIntoView({block:"nearest"})}},[e,d]),p.useEffect(()=>{const c=n=>{if(e.length===0)return;let i=a;switch(n.key){case"ArrowDown":n.preventDefault(),i=a>=e.length-1?0:a+1;break;case"ArrowUp":n.preventDefault(),i=a<=0?e.length-1:a-1;break;case"Enter":i!==-1&&e[i]&&(n.preventDefault(),o(e[i].code));return;case"Home":n.preventDefault(),i=0;break;case"End":n.preventDefault(),i=e.length-1;break;default:return}if(t(i),s.current&&i!==-1){const f=s.current.querySelector(`#country-item-${e[i].code}`);f==null||f.scrollIntoView({block:"nearest"})}};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[a,e,o]),r.jsx(h,{sx:{position:"relative",width:l,boxSizing:"border-box"},role:"listbox","aria-activedescendant":a>=0?`country-item-${e[a].code}`:void 0,children:r.jsx(y,{ref:s,countries:e,onSelectCountry:o,selectedCountryCode:d,highlightIndex:a,headerText:u,maxHeight:m})})}x.__docgenInfo={description:"",methods:[],displayName:"CountryListDropdown",props:{countries:{required:!1,tsType:{name:"Array",elements:[{name:"Country"}],raw:"Country[]"},description:"",defaultValue:{value:"[]",computed:!1}},onSelectCountry:{required:!0,tsType:{name:"signature",type:"function",raw:"(countryCode: string) => void",signature:{arguments:[{type:{name:"string"},name:"countryCode"}],return:{name:"void"}}},description:""},selectedCountry:{required:!1,tsType:{name:"string"},description:""},headerText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select Country'",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"314",computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"366",computed:!1}}}};const v=[{code:"AF",name:"Afganistán",flag:"https://flagcdn.com/w320/af.png",dialCode:"+93"},{code:"AL",name:"Albania",flag:"https://flagcdn.com/w320/al.png",dialCode:"+355"},{code:"DE",name:"Alemania",flag:"https://flagcdn.com/w320/de.png",dialCode:"+49"},{code:"AD",name:"Andorra",flag:"https://flagcdn.com/w320/ad.png",dialCode:"+376"},{code:"AO",name:"Angola",flag:"https://flagcdn.com/w320/ao.png",dialCode:"+244"},{code:"DZ",name:"Argelia",flag:"https://flagcdn.com/w320/dz.png",dialCode:"+213"},{code:"AR",name:"Argentina",flag:"https://flagcdn.com/w320/ar.png",dialCode:"+54"},{code:"AM",name:"Armenia",flag:"https://flagcdn.com/w320/am.png",dialCode:"+374"},{code:"AU",name:"Australia",flag:"https://flagcdn.com/w320/au.png",dialCode:"+61"},{code:"AT",name:"Austria",flag:"https://flagcdn.com/w320/at.png",dialCode:"+43"},{code:"AZ",name:"Azerbaiyán",flag:"https://flagcdn.com/w320/az.png",dialCode:"+994"},{code:"BR",name:"Brasil",flag:"https://flagcdn.com/w320/br.png",dialCode:"+55"},{code:"CA",name:"Canadá",flag:"https://flagcdn.com/w320/ca.png",dialCode:"+1"},{code:"CN",name:"China",flag:"https://flagcdn.com/w320/cn.png",dialCode:"+86"},{code:"ES",name:"España",flag:"https://flagcdn.com/w320/es.png",dialCode:"+34"},{code:"US",name:"Estados Unidos",flag:"https://flagcdn.com/w320/us.png",dialCode:"+1"},{code:"FR",name:"Francia",flag:"https://flagcdn.com/w320/fr.png",dialCode:"+33"},{code:"IT",name:"Italia",flag:"https://flagcdn.com/w320/it.png",dialCode:"+39"},{code:"MX",name:"México",flag:"https://flagcdn.com/w320/mx.png",dialCode:"+52"},{code:"GB",name:"Reino Unido",flag:"https://flagcdn.com/w320/gb.png",dialCode:"+44"}],Q={title:"ui/components/organisms/CountryListDropdown",component:x,argTypes:{selectedCountry:{control:"select",options:["",...v.map(e=>e.code)]},onSelectCountry:{action:"selectedCountry"},maxHeight:{control:"text"},width:{control:"text"},headerText:{control:"text"},countries:{control:!1}},parameters:{layout:"padded"},decorators:[e=>r.jsx(h,{sx:{width:"auto",maxWidth:400,padding:"20px"},children:r.jsx(e,{})})]};function j(e){const{selectedCountry:d,onSelectCountry:o,countries:m,headerText:l,width:u,maxHeight:a}=e,[t,s]=p.useState(d),c=n=>{s(n),o(n)};return r.jsx(x,{countries:m,headerText:l,width:u,maxHeight:a,selectedCountry:t,onSelectCountry:c})}const g={render:j,args:{headerText:"Select Country",width:"320px",maxHeight:"350px",countries:v,selectedCountry:"AR"}};var C,w,b;g.parameters={...g.parameters,docs:{...(C=g.parameters)==null?void 0:C.docs,source:{originalSource:`{
  render: InteractiveStoryWrapper,
  args: {
    headerText: 'Select Country',
    width: '320px',
    maxHeight: '350px',
    countries: MockCountriesData,
    selectedCountry: 'AR'
  }
}`,...(b=(w=g.parameters)==null?void 0:w.docs)==null?void 0:b.source}}};const ee=["Default"];export{g as Default,ee as __namedExportsOrder,Q as default};
