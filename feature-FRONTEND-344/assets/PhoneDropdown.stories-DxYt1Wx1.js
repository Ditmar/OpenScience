import{j as y}from"./jsx-runtime-BlDnFLNC.js";import{r as o}from"./index-Cu9bd8lq.js";import{I as De}from"./InputPhone-o0e5Opud.js";import{C as Le}from"./CountryList-BPvbSCKA.js";import{a as _}from"./countryMock-P7bcK4cg.js";import{u as xe}from"./useForkRef-CXZ2Yisc.js";import{T as Ve,g as K,a as je}from"./getReactElementRef-Dyexqxg3.js";import{u as Ie,a as We}from"./ButtonBase-7uIjc4-A.js";import{o as B}from"./InputBase-DWNx7mgj.js";import{B as Q}from"./Box-BIQfO08j.js";import{a as qe,g as He,s as Y,c as $e,b as ke,m as Ae}from"./memoTheme-Cfc04StF.js";import{u as Me}from"./useTheme-BswqMSRb.js";import{u as Ne,n as Oe}from"./DefaultPropsProvider-VzuMoIoH.js";import"./IconPhone-DawrpoAw.js";import"./Typography-uozj9yCg.js";import"./index-BDYjnLYH.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-B34fLoo2.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./IconButton-k3d3pm--.js";import"./useId-Cw7oCgN8.js";import"./CircularProgress-gYfoohxh.js";import"./NumberInput-CHzkcrYN.js";import"./createSvgIcon-fSewMTSc.js";import"./HintText-BFEW9Nbf.js";import"./List-CI6D2DmN.js";import"./isHostComponent-DVu5iVWx.js";import"./isMuiElement-B1vlATT2.js";import"./listItemButtonClasses-B-KaB91q.js";import"./Avatar-BLedJQw8.js";import"./useSlot-BiIxzy86.js";import"./assertThisInitialized-C1KLUksq.js";import"./index-BWPb3MHu.js";import"./extends-CF3RwP-h.js";import"./useEnhancedEffect-BAizwhs3.js";import"./useFormControl-DxQRLcK0.js";function Fe(n){return qe("MuiCollapse",n)}He("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ue=n=>{const{orientation:t,classes:s}=n,a={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ke(a,Fe,s)},_e=Y("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:s}=n;return[t.root,t[s.orientation],s.state==="entered"&&t.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&t.hidden]}})(Ae(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Be=Y("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Xe=Y("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),X=o.forwardRef(function(t,s){const a=Ne({props:t,name:"MuiCollapse"}),{addEndListener:w,children:h,className:T,collapsedSize:l="0px",component:x,easing:g,in:P,onEnter:d,onEntered:S,onEntering:p,onExit:r,onExited:i,onExiting:u,orientation:C="vertical",style:z,timeout:E=Oe.standard,TransitionComponent:N=Ve,...O}=a,c={...a,orientation:C,collapsedSize:l},D=Ue(c),G=Me(),ve=Ie(),R=o.useRef(null),F=o.useRef(),I=typeof l=="number"?`${l}px`:l,L=C==="horizontal",V=L?"width":"height",W=o.useRef(null),Ce=xe(s,W),b=e=>m=>{if(e){const f=W.current;m===void 0?e(f):e(f,m)}},U=()=>R.current?R.current[L?"clientWidth":"clientHeight"]:0,we=b((e,m)=>{R.current&&L&&(R.current.style.position="absolute"),e.style[V]=I,d&&d(e,m)}),Te=b((e,m)=>{const f=U();R.current&&L&&(R.current.style.position="");const{duration:j,easing:q}=K({style:z,timeout:E,easing:g},{mode:"enter"});if(E==="auto"){const J=G.transitions.getAutoHeightDuration(f);e.style.transitionDuration=`${J}ms`,F.current=J}else e.style.transitionDuration=typeof j=="string"?j:`${j}ms`;e.style[V]=`${f}px`,e.style.transitionTimingFunction=q,p&&p(e,m)}),Se=b((e,m)=>{e.style[V]="auto",S&&S(e,m)}),Re=b(e=>{e.style[V]=`${U()}px`,r&&r(e)}),Pe=b(i),be=b(e=>{const m=U(),{duration:f,easing:j}=K({style:z,timeout:E,easing:g},{mode:"exit"});if(E==="auto"){const q=G.transitions.getAutoHeightDuration(m);e.style.transitionDuration=`${q}ms`,F.current=q}else e.style.transitionDuration=typeof f=="string"?f:`${f}ms`;e.style[V]=I,e.style.transitionTimingFunction=j,u&&u(e)}),ze=e=>{E==="auto"&&ve.start(F.current||0,e),w&&w(W.current,e)};return y.jsx(N,{in:P,onEnter:we,onEntered:Se,onEntering:Te,onExit:Re,onExited:Pe,onExiting:be,addEndListener:ze,nodeRef:W,timeout:E==="auto"?null:E,...O,children:(e,{ownerState:m,...f})=>y.jsx(_e,{as:x,className:$e(D.root,T,{entered:D.entered,exited:!P&&I==="0px"&&D.hidden}[e]),style:{[L?"minWidth":"minHeight"]:I,...z},ref:Ce,ownerState:{...c,state:e},...f,children:y.jsx(Be,{ownerState:{...c,state:e},className:D.wrapper,ref:R,children:y.jsx(Xe,{ownerState:{...c,state:e},className:D.wrapperInner,children:h})})})})});X&&(X.muiSupportAuto=!0);function Z(n){return n.substring(2).toLowerCase()}function Ye(n,t){return t.documentElement.clientWidth<n.clientX||t.documentElement.clientHeight<n.clientY}function Ge(n){const{children:t,disableReactTree:s=!1,mouseEvent:a="onClick",onClickAway:w,touchEvent:h="onTouchEnd"}=n,T=o.useRef(!1),l=o.useRef(null),x=o.useRef(!1),g=o.useRef(!1);o.useEffect(()=>(setTimeout(()=>{x.current=!0},0),()=>{x.current=!1}),[]);const P=xe(je(t),l),d=We(r=>{const i=g.current;g.current=!1;const u=B(l.current);if(!x.current||!l.current||"clientX"in r&&Ye(r,u))return;if(T.current){T.current=!1;return}let C;r.composedPath?C=r.composedPath().includes(l.current):C=!u.documentElement.contains(r.target)||l.current.contains(r.target),!C&&(s||!i)&&w(r)}),S=r=>i=>{g.current=!0;const u=t.props[r];u&&u(i)},p={ref:P};return h!==!1&&(p[h]=S(h)),o.useEffect(()=>{if(h!==!1){const r=Z(h),i=B(l.current),u=()=>{T.current=!0};return i.addEventListener(r,d),i.addEventListener("touchmove",u),()=>{i.removeEventListener(r,d),i.removeEventListener("touchmove",u)}}},[d,h]),a!==!1&&(p[a]=S(a)),o.useEffect(()=>{if(a!==!1){const r=Z(a),i=B(l.current);return i.addEventListener(r,d),()=>{i.removeEventListener(r,d)}}},[d,a]),o.cloneElement(t,p)}function Ee({iconText:n="Phone Number",hintText:t="",size:s="medium",disabled:a=!1,borderRadius:w="rounded",state:h="default",initialValue:T="",onClose:l,onCountrySelect:x,onChange:g,countryListProps:P={}}){const[d,S]=o.useState(T),[p,r]=o.useState(!1),[i,u]=o.useState(_.find(c=>c.code==="AR")??_[0]),C=o.useRef(null),z=c=>{S(c),g==null||g(c)},E=c=>{u(c),x==null||x(c)},N=()=>{a||r(!p)},O=()=>{r(!1)};return y.jsx(Ge,{onClickAway:O,children:y.jsxs(Q,{ref:C,"data-testid":"phone-dropdown",sx:{display:"flex",flexDirection:"column",gap:"8px",width:"100%",maxWidth:"371px",position:"relative"},children:[y.jsx(De,{iconText:n,hintText:p?"":t,size:s,disabled:a,borderRadius:w,state:h,initialValue:d,onChange:z,onClose:l,onCountryButtonClick:N,selectedCountry:i,isOpen:p}),y.jsx(X,{in:p,children:y.jsx(Q,{sx:{mt:1},children:y.jsx(Le,{countries:P.countries??_,size:s,flagVariant:"circular",containerVariant:w,onCountrySelect:E,showTitle:!0,title:"Select Country",titleSize:s})})})]})})}Ee.__docgenInfo={description:"",methods:[],displayName:"PhoneDropdown",props:{onCountrySelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(country: CountryFlagProps) => void",signature:{arguments:[{type:{name:"CountryFlagProps"},name:"country"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(phone: string) => void",signature:{arguments:[{type:{name:"string"},name:"phone"}],return:{name:"void"}}},description:""},countryListProps:{required:!1,tsType:{name:"Partial",elements:[{name:"CountryListProps"}],raw:"Partial<CountryListProps>"},description:"",defaultValue:{value:"{}",computed:!1}},iconText:{defaultValue:{value:"'Phone Number'",computed:!1},required:!1},hintText:{defaultValue:{value:"''",computed:!1},required:!1},size:{defaultValue:{value:"'medium'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},borderRadius:{defaultValue:{value:"'rounded'",computed:!1},required:!1},state:{defaultValue:{value:"'default'",computed:!1},required:!1},initialValue:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Omit"]};const Vt={title:"ui/Components/Organisms/PhoneDropdown",component:Ee,argTypes:{iconText:{control:"text"},hintText:{control:"text"},size:{control:{type:"select"},options:["small","medium","large"]},disabled:{control:"boolean"},borderRadius:{control:{type:"select"},options:["rounded","straight"]},state:{control:{type:"select"},options:["default","hover","focus","error","disabled"]},onClose:{action:"closed"},onChange:{action:"changed"},onCountrySelect:{action:"countrySelected"}}},v={args:{iconText:"Phone Number",hintText:"Enter your phone number",size:"medium",borderRadius:"rounded",state:"default"}},H={args:{...v.args,size:"small"}},$={args:{...v.args,size:"large"}},k={args:{...v.args,countryListProps:{maxHeight:"200px",showTitle:!0,title:"Select your country"}}},A={args:{...v.args,disabled:!0}},M={args:{...v.args,state:"error",hintText:"Invalid phone number"}};var ee,te,re;v.parameters={...v.parameters,docs:{...(ee=v.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    iconText: 'Phone Number',
    hintText: 'Enter your phone number',
    size: 'medium',
    borderRadius: 'rounded',
    state: 'default'
  }
}`,...(re=(te=v.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};var ne,oe,se;H.parameters={...H.parameters,docs:{...(ne=H.parameters)==null?void 0:ne.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    size: 'small'
  }
}`,...(se=(oe=H.parameters)==null?void 0:oe.docs)==null?void 0:se.source}}};var ie,ae,le;$.parameters={...$.parameters,docs:{...(ie=$.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    size: 'large'
  }
}`,...(le=(ae=$.parameters)==null?void 0:ae.docs)==null?void 0:le.source}}};var ue,ce,de;k.parameters={...k.parameters,docs:{...(ue=k.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    countryListProps: {
      maxHeight: '200px',
      showTitle: true,
      title: 'Select your country'
    }
  }
}`,...(de=(ce=k.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};var pe,me,fe;A.parameters={...A.parameters,docs:{...(pe=A.parameters)==null?void 0:pe.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    disabled: true
  }
}`,...(fe=(me=A.parameters)==null?void 0:me.docs)==null?void 0:fe.source}}};var he,ge,ye;M.parameters={...M.parameters,docs:{...(he=M.parameters)==null?void 0:he.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    state: 'error',
    hintText: 'Invalid phone number'
  }
}`,...(ye=(ge=M.parameters)==null?void 0:ge.docs)==null?void 0:ye.source}}};const jt=["Default","Small","Large","WithCountryListProps","Disabled","ErrorState"];export{v as Default,A as Disabled,M as ErrorState,$ as Large,H as Small,k as WithCountryListProps,jt as __namedExportsOrder,Vt as default};
