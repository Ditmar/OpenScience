import{j as a}from"./jsx-runtime-BlDnFLNC.js";import{r as p}from"./index-Cu9bd8lq.js";import{A as T}from"./Avatar-BtWOVhNY.js";import{P as k}from"./Paper-dC1HK74e.js";import{T as S}from"./Typography-C5QnlRB5.js";import{B as h}from"./Box-DDoEQy9V.js";import{a as I}from"./List-D49tzRcp.js";import{L as q}from"./ListItemButton-Db2DZTjN.js";import{L as D}from"./ListItemText-DV2X3Nex.js";import"./generateUtilityClasses-CPRdC64H.js";import"./memoTheme-4demOXfH.js";import"./styled-DBE_PVCT.js";import"./defaultTheme-6bE_C9AB.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-B34fLoo2.js";import"./extends-CF3RwP-h.js";import"./createSvgIcon-CmhASZ14.js";import"./DefaultPropsProvider-15asn56a.js";import"./composeClasses-CAXbtk_0.js";import"./useSlot-BDqnu5Qn.js";import"./useForkRef-CXZ2Yisc.js";import"./useTheme-dgGPrFpw.js";import"./extendSxProp-Fnywlokt.js";import"./index-DlHWCG02.js";import"./emotion-react.browser.esm-C5rA5GIg.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./listItemButtonClasses-CaTLjKP_.js";import"./useEnhancedEffect-BAizwhs3.js";import"./ButtonBase-CAxbgbN9.js";import"./useTimeout-CpWYkyOc.js";import"./assertThisInitialized-B9jnkVVz.js";import"./inheritsLoose-DR8r8Ogv.js";import"./listItemTextClasses-B7GF_tSs.js";function A({src:e,alt:i,size:o=24}){return a.jsx(T,{src:e,alt:i,sx:{width:o,height:o,marginRight:1.5}})}A.__docgenInfo={description:"",methods:[],displayName:"CountryFlag",props:{src:{required:!0,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"24",computed:!1}}}};const y=p.forwardRef(({countries:e,onSelectCountry:i,selectedCountryCode:o,highlightIndex:m,headerText:l,maxHeight:u=314},n)=>a.jsxs(k,{elevation:3,sx:t=>({zIndex:1300,width:"100%",borderRadius:t.spacing(1.5),backgroundColor:"background.paper",overflow:"hidden"}),children:[l&&a.jsx(S,{variant:"h6",sx:{p:2,fontWeight:"bold"},children:l}),a.jsx(h,{ref:n,sx:{maxHeight:u,overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#8A3FFC",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#772ce8"}},children:a.jsx(I,{dense:!0,disablePadding:!0,role:"presentation",children:e.map((t,s)=>a.jsxs(q,{selected:o===t.code,onClick:()=>{i(t.code)},sx:{padding:"12px 16px","&.Mui-selected":{backgroundColor:"action.focus","&:hover":{backgroundColor:"action.focus"}},...m===s&&{backgroundColor:"action.hover"}},role:"option","aria-selected":o===t.code,id:`country-item-${t.code}`,children:[a.jsx(A,{src:t.flag,alt:t.name}),a.jsx(D,{primary:`${t.name} (${t.dialCode})`,sx:{ml:2}})]},t.code))})})]}));y.displayName="CountrySelectList";y.__docgenInfo={description:"",methods:[],displayName:"CountrySelectList",props:{countries:{required:!0,tsType:{name:"Array",elements:[{name:"Country"}],raw:"Country[]"},description:""},onSelectCountry:{required:!0,tsType:{name:"signature",type:"function",raw:"(countryCode: string) => void",signature:{arguments:[{type:{name:"string"},name:"countryCode"}],return:{name:"void"}}},description:""},selectedCountryCode:{required:!1,tsType:{name:"string"},description:""},highlightIndex:{required:!0,tsType:{name:"number"},description:""},headerText:{required:!1,tsType:{name:"string"},description:""},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"314",computed:!1}}}};function x({countries:e=[],selectedCountry:i,onSelectCountry:o,maxHeight:m=314,width:l=366,headerText:u="Select Country"}){const[n,t]=p.useState(-1),s=p.useRef(null);return p.useEffect(()=>{const c=i?e.findIndex(r=>r.code===i):-1;if(t(c),s.current&&c!==-1){const r=s.current.querySelector(`#country-item-${e[c].code}`);r==null||r.scrollIntoView({block:"nearest"})}},[e,i]),p.useEffect(()=>{const c=r=>{if(e.length===0)return;let d=n;switch(r.key){case"ArrowDown":r.preventDefault(),d=n>=e.length-1?0:n+1;break;case"ArrowUp":r.preventDefault(),d=n<=0?e.length-1:n-1;break;case"Enter":d!==-1&&e[d]&&(r.preventDefault(),o(e[d].code));return;case"Home":r.preventDefault(),d=0;break;case"End":r.preventDefault(),d=e.length-1;break;default:return}if(t(d),s.current&&d!==-1){const f=s.current.querySelector(`#country-item-${e[d].code}`);f==null||f.scrollIntoView({block:"nearest"})}};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[n,e,o]),a.jsx(h,{sx:{position:"relative",width:l,boxSizing:"border-box"},role:"listbox","aria-activedescendant":n>=0?`country-item-${e[n].code}`:void 0,children:a.jsx(y,{ref:s,countries:e,onSelectCountry:o,selectedCountryCode:i,highlightIndex:n,headerText:u,maxHeight:m})})}x.__docgenInfo={description:"",methods:[],displayName:"CountryListDropdown",props:{countries:{required:!1,tsType:{name:"Array",elements:[{name:"Country"}],raw:"Country[]"},description:"",defaultValue:{value:"[]",computed:!1}},onSelectCountry:{required:!0,tsType:{name:"signature",type:"function",raw:"(countryCode: string) => void",signature:{arguments:[{type:{name:"string"},name:"countryCode"}],return:{name:"void"}}},description:""},selectedCountry:{required:!1,tsType:{name:"string"},description:""},headerText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select Country'",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"314",computed:!1}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",defaultValue:{value:"366",computed:!1}}}};const v=[{code:"AF",name:"Afganistán",flag:"https://flagcdn.com/w320/af.png",dialCode:"+93"},{code:"AL",name:"Albania",flag:"https://flagcdn.com/w320/al.png",dialCode:"+355"},{code:"DE",name:"Alemania",flag:"https://flagcdn.com/w320/de.png",dialCode:"+49"},{code:"AD",name:"Andorra",flag:"https://flagcdn.com/w320/ad.png",dialCode:"+376"},{code:"AO",name:"Angola",flag:"https://flagcdn.com/w320/ao.png",dialCode:"+244"},{code:"DZ",name:"Argelia",flag:"https://flagcdn.com/w320/dz.png",dialCode:"+213"},{code:"AR",name:"Argentina",flag:"https://flagcdn.com/w320/ar.png",dialCode:"+54"},{code:"AM",name:"Armenia",flag:"https://flagcdn.com/w320/am.png",dialCode:"+374"},{code:"AU",name:"Australia",flag:"https://flagcdn.com/w320/au.png",dialCode:"+61"},{code:"AT",name:"Austria",flag:"https://flagcdn.com/w320/at.png",dialCode:"+43"},{code:"AZ",name:"Azerbaiyán",flag:"https://flagcdn.com/w320/az.png",dialCode:"+994"},{code:"BR",name:"Brasil",flag:"https://flagcdn.com/w320/br.png",dialCode:"+55"},{code:"CA",name:"Canadá",flag:"https://flagcdn.com/w320/ca.png",dialCode:"+1"},{code:"CN",name:"China",flag:"https://flagcdn.com/w320/cn.png",dialCode:"+86"},{code:"ES",name:"España",flag:"https://flagcdn.com/w320/es.png",dialCode:"+34"},{code:"US",name:"Estados Unidos",flag:"https://flagcdn.com/w320/us.png",dialCode:"+1"},{code:"FR",name:"Francia",flag:"https://flagcdn.com/w320/fr.png",dialCode:"+33"},{code:"IT",name:"Italia",flag:"https://flagcdn.com/w320/it.png",dialCode:"+39"},{code:"MX",name:"México",flag:"https://flagcdn.com/w320/mx.png",dialCode:"+52"},{code:"GB",name:"Reino Unido",flag:"https://flagcdn.com/w320/gb.png",dialCode:"+44"}],ce={title:"ui/components/organisms/CountryListDropdown",component:x,argTypes:{selectedCountry:{control:"select",options:["",...v.map(e=>e.code)]},onSelectCountry:{action:"selectedCountry"},maxHeight:{control:"text"},width:{control:"text"},headerText:{control:"text"},countries:{control:!1}},parameters:{layout:"padded"},decorators:[e=>a.jsx(h,{sx:{width:"auto",maxWidth:400,padding:"20px"},children:a.jsx(e,{})})]};function j(e){const{selectedCountry:i,onSelectCountry:o,countries:m,headerText:l,width:u,maxHeight:n}=e,[t,s]=p.useState(i),c=r=>{s(r),o(r)};return a.jsx(x,{countries:m,headerText:l,width:u,maxHeight:n,selectedCountry:t,onSelectCountry:c})}const g={render:j,args:{headerText:"Select Country",width:"320px",maxHeight:"350px",countries:v,selectedCountry:"AR"}};var C,w,b;g.parameters={...g.parameters,docs:{...(C=g.parameters)==null?void 0:C.docs,source:{originalSource:`{
  render: InteractiveStoryWrapper,
  args: {
    headerText: 'Select Country',
    width: '320px',
    maxHeight: '350px',
    countries: MockCountriesData,
    selectedCountry: 'AR'
  }
}`,...(b=(w=g.parameters)==null?void 0:w.docs)==null?void 0:b.source}}};const le=["Default"];export{g as Default,le as __namedExportsOrder,ce as default};
