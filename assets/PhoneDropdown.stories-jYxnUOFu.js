import{j as y}from"./jsx-runtime-BlDnFLNC.js";import{r as o}from"./index-Cu9bd8lq.js";import{I as De}from"./InputPhone-Dj8rdChW.js";import{C as Le}from"./CountryList-BWGlE-fl.js";import{a as _}from"./countryMock-DK8QlEbG.js";import{u as ye}from"./useForkRef-CXZ2Yisc.js";import{T as Ve,g as K,a as je}from"./getReactElementRef-Dyexqxg3.js";import{u as Ie,a as We}from"./ButtonBase-7uIjc4-A.js";import{o as X}from"./InputBase-DWNx7mgj.js";import{a as qe,g as He,s as I,c as $e,b as ke,m as Ae}from"./memoTheme-Cfc04StF.js";import{u as Me}from"./useTheme-BswqMSRb.js";import{u as Ne,n as Oe}from"./DefaultPropsProvider-VzuMoIoH.js";import{B as xe}from"./Box-BIQfO08j.js";import"./IconPhone-CwyT7wkK.js";import"./Typography-uozj9yCg.js";import"./index-BDYjnLYH.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-B34fLoo2.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./IconButton-k3d3pm--.js";import"./useId-Cw7oCgN8.js";import"./CircularProgress-gYfoohxh.js";import"./NumberInput-BgxS2kdY.js";import"./createSvgIcon-fSewMTSc.js";import"./HintText-DxErcGtg.js";import"./List-CI6D2DmN.js";import"./isHostComponent-DVu5iVWx.js";import"./isMuiElement-B1vlATT2.js";import"./listItemButtonClasses-B-KaB91q.js";import"./Avatar-BLedJQw8.js";import"./useSlot-BiIxzy86.js";import"./assertThisInitialized-C1KLUksq.js";import"./index-BWPb3MHu.js";import"./extends-CF3RwP-h.js";import"./useEnhancedEffect-BAizwhs3.js";import"./useFormControl-DxQRLcK0.js";function Fe(n){return qe("MuiCollapse",n)}He("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Be=n=>{const{orientation:t,classes:s}=n,a={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ke(a,Fe,s)},Ue=I("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:s}=n;return[t.root,t[s.orientation],s.state==="entered"&&t.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&t.hidden]}})(Ae(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),_e=I("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Xe=I("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Y=o.forwardRef(function(t,s){const a=Ne({props:t,name:"MuiCollapse"}),{addEndListener:w,children:h,className:T,collapsedSize:l="0px",component:x,easing:g,in:P,onEnter:d,onEntered:S,onEntering:p,onExit:r,onExited:i,onExiting:u,orientation:v="vertical",style:z,timeout:E=Oe.standard,TransitionComponent:O=Ve,...F}=a,c={...a,orientation:v,collapsedSize:l},D=Be(c),G=Me(),Ce=Ie(),R=o.useRef(null),B=o.useRef(),W=typeof l=="number"?`${l}px`:l,L=v==="horizontal",V=L?"width":"height",q=o.useRef(null),ve=ye(s,q),b=e=>m=>{if(e){const f=q.current;m===void 0?e(f):e(f,m)}},U=()=>R.current?R.current[L?"clientWidth":"clientHeight"]:0,we=b((e,m)=>{R.current&&L&&(R.current.style.position="absolute"),e.style[V]=W,d&&d(e,m)}),Te=b((e,m)=>{const f=U();R.current&&L&&(R.current.style.position="");const{duration:j,easing:H}=K({style:z,timeout:E,easing:g},{mode:"enter"});if(E==="auto"){const J=G.transitions.getAutoHeightDuration(f);e.style.transitionDuration=`${J}ms`,B.current=J}else e.style.transitionDuration=typeof j=="string"?j:`${j}ms`;e.style[V]=`${f}px`,e.style.transitionTimingFunction=H,p&&p(e,m)}),Se=b((e,m)=>{e.style[V]="auto",S&&S(e,m)}),Re=b(e=>{e.style[V]=`${U()}px`,r&&r(e)}),Pe=b(i),be=b(e=>{const m=U(),{duration:f,easing:j}=K({style:z,timeout:E,easing:g},{mode:"exit"});if(E==="auto"){const H=G.transitions.getAutoHeightDuration(m);e.style.transitionDuration=`${H}ms`,B.current=H}else e.style.transitionDuration=typeof f=="string"?f:`${f}ms`;e.style[V]=W,e.style.transitionTimingFunction=j,u&&u(e)}),ze=e=>{E==="auto"&&Ce.start(B.current||0,e),w&&w(q.current,e)};return y.jsx(O,{in:P,onEnter:we,onEntered:Se,onEntering:Te,onExit:Re,onExited:Pe,onExiting:be,addEndListener:ze,nodeRef:q,timeout:E==="auto"?null:E,...F,children:(e,{ownerState:m,...f})=>y.jsx(Ue,{as:x,className:$e(D.root,T,{entered:D.entered,exited:!P&&W==="0px"&&D.hidden}[e]),style:{[L?"minWidth":"minHeight"]:W,...z},ref:ve,ownerState:{...c,state:e},...f,children:y.jsx(_e,{ownerState:{...c,state:e},className:D.wrapper,ref:R,children:y.jsx(Xe,{ownerState:{...c,state:e},className:D.wrapperInner,children:h})})})})});Y&&(Y.muiSupportAuto=!0);function Q(n){return n.substring(2).toLowerCase()}function Ye(n,t){return t.documentElement.clientWidth<n.clientX||t.documentElement.clientHeight<n.clientY}function Ge(n){const{children:t,disableReactTree:s=!1,mouseEvent:a="onClick",onClickAway:w,touchEvent:h="onTouchEnd"}=n,T=o.useRef(!1),l=o.useRef(null),x=o.useRef(!1),g=o.useRef(!1);o.useEffect(()=>(setTimeout(()=>{x.current=!0},0),()=>{x.current=!1}),[]);const P=ye(je(t),l),d=We(r=>{const i=g.current;g.current=!1;const u=X(l.current);if(!x.current||!l.current||"clientX"in r&&Ye(r,u))return;if(T.current){T.current=!1;return}let v;r.composedPath?v=r.composedPath().includes(l.current):v=!u.documentElement.contains(r.target)||l.current.contains(r.target),!v&&(s||!i)&&w(r)}),S=r=>i=>{g.current=!0;const u=t.props[r];u&&u(i)},p={ref:P};return h!==!1&&(p[h]=S(h)),o.useEffect(()=>{if(h!==!1){const r=Q(h),i=X(l.current),u=()=>{T.current=!0};return i.addEventListener(r,d),i.addEventListener("touchmove",u),()=>{i.removeEventListener(r,d),i.removeEventListener("touchmove",u)}}},[d,h]),a!==!1&&(p[a]=S(a)),o.useEffect(()=>{if(a!==!1){const r=Q(a),i=X(l.current);return i.addEventListener(r,d),()=>{i.removeEventListener(r,d)}}},[d,a]),o.cloneElement(t,p)}const Je=I(xe)({display:"flex",flexDirection:"column",gap:"8px",width:"100%",maxWidth:"371px",position:"relative"}),Ke=I(xe)({marginTop:8});function Ee({iconText:n="Phone Number",hintText:t="",size:s="medium",disabled:a=!1,borderRadius:w="rounded",state:h="default",initialValue:T="",onClose:l,onCountrySelect:x,onChange:g,countryListProps:P={}}){const[d,S]=o.useState(T),[p,r]=o.useState(!1),[i,u]=o.useState(_.find(c=>c.code==="AR")??_[0]),v=o.useRef(null),z=c=>{S(c),g==null||g(c)},E=c=>{u(c),x==null||x(c)},O=()=>{a||r(!p)},F=()=>{r(!1)};return y.jsx(Ge,{onClickAway:F,children:y.jsxs(Je,{ref:v,"data-testid":"phone-dropdown",children:[y.jsx(De,{iconText:n,hintText:p?"":t,size:s,disabled:a,borderRadius:w,state:h,initialValue:d,onChange:z,onClose:l,onCountryButtonClick:O,selectedCountry:i,isOpen:p}),y.jsx(Y,{in:p,children:y.jsx(Ke,{children:y.jsx(Le,{countries:P.countries??_,size:s,flagVariant:"circular",containerVariant:w,onCountrySelect:E,showTitle:!0,title:"Select Country",titleSize:s})})})]})})}Ee.__docgenInfo={description:"",methods:[],displayName:"PhoneDropdown",props:{onCountrySelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(country: CountryFlagProps) => void",signature:{arguments:[{type:{name:"CountryFlagProps"},name:"country"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(phone: string) => void",signature:{arguments:[{type:{name:"string"},name:"phone"}],return:{name:"void"}}},description:""},countryListProps:{required:!1,tsType:{name:"Partial",elements:[{name:"CountryListProps"}],raw:"Partial<CountryListProps>"},description:"",defaultValue:{value:"{}",computed:!1}},iconText:{defaultValue:{value:"'Phone Number'",computed:!1},required:!1},hintText:{defaultValue:{value:"''",computed:!1},required:!1},size:{defaultValue:{value:"'medium'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},borderRadius:{defaultValue:{value:"'rounded'",computed:!1},required:!1},state:{defaultValue:{value:"'default'",computed:!1},required:!1},initialValue:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Omit"]};const It={title:"ui/Components/Organisms/PhoneDropdown",component:Ee,argTypes:{iconText:{control:"text"},hintText:{control:"text"},size:{control:{type:"select"},options:["small","medium","large"]},disabled:{control:"boolean"},borderRadius:{control:{type:"select"},options:["rounded","straight"]},state:{control:{type:"select"},options:["default","hover","focus","error","disabled"]},onClose:{action:"closed"},onChange:{action:"changed"},onCountrySelect:{action:"countrySelected"}}},C={args:{iconText:"Phone Number",hintText:"Enter your phone number",size:"medium",borderRadius:"rounded",state:"default"}},$={args:{...C.args,size:"small"}},k={args:{...C.args,size:"large"}},A={args:{...C.args,countryListProps:{maxHeight:"200px",showTitle:!0,title:"Select your country"}}},M={args:{...C.args,disabled:!0}},N={args:{...C.args,state:"error",hintText:"Invalid phone number"}};var Z,ee,te;C.parameters={...C.parameters,docs:{...(Z=C.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: {
    iconText: 'Phone Number',
    hintText: 'Enter your phone number',
    size: 'medium',
    borderRadius: 'rounded',
    state: 'default'
  }
}`,...(te=(ee=C.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var re,ne,oe;$.parameters={...$.parameters,docs:{...(re=$.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    size: 'small'
  }
}`,...(oe=(ne=$.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};var se,ie,ae;k.parameters={...k.parameters,docs:{...(se=k.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    size: 'large'
  }
}`,...(ae=(ie=k.parameters)==null?void 0:ie.docs)==null?void 0:ae.source}}};var le,ue,ce;A.parameters={...A.parameters,docs:{...(le=A.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    countryListProps: {
      maxHeight: '200px',
      showTitle: true,
      title: 'Select your country'
    }
  }
}`,...(ce=(ue=A.parameters)==null?void 0:ue.docs)==null?void 0:ce.source}}};var de,pe,me;M.parameters={...M.parameters,docs:{...(de=M.parameters)==null?void 0:de.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    disabled: true
  }
}`,...(me=(pe=M.parameters)==null?void 0:pe.docs)==null?void 0:me.source}}};var fe,he,ge;N.parameters={...N.parameters,docs:{...(fe=N.parameters)==null?void 0:fe.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    state: 'error',
    hintText: 'Invalid phone number'
  }
}`,...(ge=(he=N.parameters)==null?void 0:he.docs)==null?void 0:ge.source}}};const Wt=["Default","Small","Large","WithCountryListProps","Disabled","ErrorState"];export{C as Default,M as Disabled,N as ErrorState,k as Large,$ as Small,A as WithCountryListProps,Wt as __namedExportsOrder,It as default};
