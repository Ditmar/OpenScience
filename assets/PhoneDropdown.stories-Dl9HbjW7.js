import{j as h}from"./jsx-runtime-BlDnFLNC.js";import{r}from"./index-Cu9bd8lq.js";import{I as te}from"./InputPhone-DKWyOiKS.js";import{C as re}from"./CountryList-BxA7aHUm.js";import{a as L}from"./countryMock-CBaWKBa4.js";import{u as oe}from"./useForkRef-CXZ2Yisc.js";import{g as ne}from"./getReactElementRef-Ch8XQsCo.js";import{a as se}from"./useTimeout-CpWYkyOc.js";import{o as w}from"./InputBase-BAlxudNr.js";import{s as J}from"./styled-BcxEKCqu.js";import{C as ae}from"./Collapse-CbE46bqy.js";import{B as K}from"./Box-CXMBgiq9.js";import"./IconPhone-C0cvvnLu.js";import"./useTheme-BTNF3QIm.js";import"./defaultTheme-hVdAcmfr.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-B34fLoo2.js";import"./extendSxProp-DZd722m1.js";import"./Typography-D5nR81UF.js";import"./generateUtilityClasses-CPRdC64H.js";import"./index-Ci7gCmCj.js";import"./emotion-react.browser.esm-Ck68rXrL.js";import"./memoTheme-CSqgJ1pS.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./DefaultPropsProvider-15asn56a.js";import"./composeClasses-CAXbtk_0.js";import"./IconButton-CYLpVoMA.js";import"./useId-Cw7oCgN8.js";import"./ButtonBase-qnlgE48N.js";import"./extends-CF3RwP-h.js";import"./assertThisInitialized-B9jnkVVz.js";import"./inheritsLoose-DR8r8Ogv.js";import"./CircularProgress-F6PmgLOE.js";import"./NumberInput-D1pDrCl_.js";import"./createSvgIcon-B4VxZv1Q.js";import"./HintText-D-veIf3C.js";import"./InfoOutlined-DAsmqmCP.js";import"./List-DROm6bfZ.js";import"./isHostComponent-DVu5iVWx.js";import"./isMuiElement-B1vlATT2.js";import"./listItemButtonClasses-CaTLjKP_.js";import"./Avatar-DSYvAv8b.js";import"./useSlot-BDqnu5Qn.js";import"./useEnhancedEffect-BAizwhs3.js";import"./useFormControl-DxQRLcK0.js";import"./utils-BKS3DThN.js";import"./index-BWPb3MHu.js";function D(i){return i.substring(2).toLowerCase()}function ie(i,u){return u.documentElement.clientWidth<i.clientX||u.documentElement.clientHeight<i.clientY}function ue(i){const{children:u,disableReactTree:g=!1,mouseEvent:n="onClick",onClickAway:v,touchEvent:c="onTouchEnd"}=i,y=r.useRef(!1),s=r.useRef(null),d=r.useRef(!1),p=r.useRef(!1);r.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const R=oe(ne(u),s),l=se(e=>{const t=p.current;p.current=!1;const o=w(s.current);if(!d.current||!s.current||"clientX"in e&&ie(e,o))return;if(y.current){y.current=!1;return}let x;e.composedPath?x=e.composedPath().includes(s.current):x=!o.documentElement.contains(e.target)||s.current.contains(e.target),!x&&(g||!t)&&v(e)}),C=e=>t=>{p.current=!0;const o=u.props[e];o&&o(t)},m={ref:R};return c!==!1&&(m[c]=C(c)),r.useEffect(()=>{if(c!==!1){const e=D(c),t=w(s.current),o=()=>{y.current=!0};return t.addEventListener(e,l),t.addEventListener("touchmove",o),()=>{t.removeEventListener(e,l),t.removeEventListener("touchmove",o)}}},[l,c]),n!==!1&&(m[n]=C(n)),r.useEffect(()=>{if(n!==!1){const e=D(n),t=w(s.current);return t.addEventListener(e,l),()=>{t.removeEventListener(e,l)}}},[l,n]),r.cloneElement(u,m)}const ce=J(K)({display:"flex",flexDirection:"column",gap:"8px",width:"100%",maxWidth:"371px",position:"relative"}),le=J(K)({marginTop:8});function Q({iconText:i="Phone Number",hintText:u="",size:g="medium",disabled:n=!1,borderRadius:v="rounded",state:c="default",initialValue:y="",onClose:s,onCountrySelect:d,onChange:p,countryListProps:R={}}){const[l,C]=r.useState(y),[m,e]=r.useState(!1),[t,o]=r.useState(L.find(f=>f.code==="AR")??L[0]),x=r.useRef(null),U=f=>{C(f),p==null||p(f)},Z=f=>{o(f),d==null||d(f)},$=()=>{n||e(!m)},ee=()=>{e(!1)};return h.jsx(ue,{onClickAway:ee,children:h.jsxs(ce,{ref:x,"data-testid":"phone-dropdown",children:[h.jsx(te,{iconText:i,hintText:m?"":u,size:g,disabled:n,borderRadius:v,state:c,initialValue:l,onChange:U,onClose:s,onCountryButtonClick:$,selectedCountry:t,isOpen:m}),h.jsx(ae,{in:m,children:h.jsx(le,{children:h.jsx(re,{countries:R.countries??L,size:g,flagVariant:"circular",containerVariant:v,onCountrySelect:Z,showTitle:!0,title:"Select Country",titleSize:g})})})]})})}Q.__docgenInfo={description:"",methods:[],displayName:"PhoneDropdown",props:{onCountrySelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(country: CountryFlagProps) => void",signature:{arguments:[{type:{name:"CountryFlagProps"},name:"country"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(phone: string) => void",signature:{arguments:[{type:{name:"string"},name:"phone"}],return:{name:"void"}}},description:""},countryListProps:{required:!1,tsType:{name:"Partial",elements:[{name:"CountryListProps"}],raw:"Partial<CountryListProps>"},description:"",defaultValue:{value:"{}",computed:!1}},iconText:{defaultValue:{value:"'Phone Number'",computed:!1},required:!1},hintText:{defaultValue:{value:"''",computed:!1},required:!1},size:{defaultValue:{value:"'medium'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},borderRadius:{defaultValue:{value:"'rounded'",computed:!1},required:!1},state:{defaultValue:{value:"'default'",computed:!1},required:!1},initialValue:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Omit"]};const ot={title:"ui/Components/Organisms/PhoneDropdown",component:Q,argTypes:{iconText:{control:"text"},hintText:{control:"text"},size:{control:{type:"select"},options:["small","medium","large"]},disabled:{control:"boolean"},borderRadius:{control:{type:"select"},options:["rounded","straight"]},state:{control:{type:"select"},options:["default","hover","focus","error","disabled"]},onClose:{action:"closed"},onChange:{action:"changed"},onCountrySelect:{action:"countrySelected"}}},a={args:{iconText:"Phone Number",hintText:"Enter your phone number",size:"medium",borderRadius:"rounded",state:"default"}},E={args:{...a.args,size:"small"}},P={args:{...a.args,size:"large"}},T={args:{...a.args,countryListProps:{maxHeight:"200px",showTitle:!0,title:"Select your country"}}},S={args:{...a.args,disabled:!0}},b={args:{...a.args,state:"error",hintText:"Invalid phone number"}};var V,k,q;a.parameters={...a.parameters,docs:{...(V=a.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    iconText: 'Phone Number',
    hintText: 'Enter your phone number',
    size: 'medium',
    borderRadius: 'rounded',
    state: 'default'
  }
}`,...(q=(k=a.parameters)==null?void 0:k.docs)==null?void 0:q.source}}};var j,z,O;E.parameters={...E.parameters,docs:{...(j=E.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    size: 'small'
  }
}`,...(O=(z=E.parameters)==null?void 0:z.docs)==null?void 0:O.source}}};var A,I,H;P.parameters={...P.parameters,docs:{...(A=P.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    size: 'large'
  }
}`,...(H=(I=P.parameters)==null?void 0:I.docs)==null?void 0:H.source}}};var N,B,W;T.parameters={...T.parameters,docs:{...(N=T.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    countryListProps: {
      maxHeight: '200px',
      showTitle: true,
      title: 'Select your country'
    }
  }
}`,...(W=(B=T.parameters)==null?void 0:B.docs)==null?void 0:W.source}}};var _,F,M;S.parameters={...S.parameters,docs:{...(_=S.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    disabled: true
  }
}`,...(M=(F=S.parameters)==null?void 0:F.docs)==null?void 0:M.source}}};var X,Y,G;b.parameters={...b.parameters,docs:{...(X=b.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    state: 'error',
    hintText: 'Invalid phone number'
  }
}`,...(G=(Y=b.parameters)==null?void 0:Y.docs)==null?void 0:G.source}}};const nt=["Default","Small","Large","WithCountryListProps","Disabled","ErrorState"];export{a as Default,S as Disabled,b as ErrorState,P as Large,E as Small,T as WithCountryListProps,nt as __namedExportsOrder,ot as default};
