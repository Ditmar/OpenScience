/* stylelint-disable no-descending-specificity */
@use 'sass:math';

@import '../../../../globals/mixins';

// Variables
$textFieldBorderRadius: 4px;
$textFieldTransition: all 0.2s ease-in-out;

// Colors
$textFieldBorderColor: #c4c4c4;
$textFieldBorderColorFocus: #2563eb;
$textFieldBorderColorError: #dc2626;
$textFieldBgColor: #fff;
$textFieldBgColorDisabled: #f3f4f6;
$textFieldTextColor: #1f2937;
$textFieldTextColorDisabled: #9ca3af;
$textFieldLabelColor: #4b5563;
$textFieldPlaceholderColor: #9ca3af;
$textFieldHelperTextColor: #6b7280;
$textFieldErrorColor: #dc2626;

// Font sizes
$textFieldFontSm: 0.875rem;
$textFieldFontMd: 1rem;
$textFieldFontLg: 1.125rem;

// Spacing
$textFieldSpacingXs: 0.25rem;
$textFieldSpacingSm: 0.5rem;
$textFieldSpacingMd: 0.75rem;
$textFieldSpacingLg: 1rem;

.text-field {
  display: flex;
  flex-direction: column;
  font-family: inherit;
  margin-bottom: $textFieldSpacingMd;
  width: 100%;

  @include respond-to('tablet') {
    width: 50%;
  }

  &__label {
    color: $textFieldLabelColor;
    display: block;
    font-size: $textFieldFontSm;
    font-weight: 500;
    margin-bottom: $textFieldSpacingXs;
    transition: $textFieldTransition;
  }

  &__input-container {
    align-items: center;
    display: flex;
    position: relative;
  }

  &__input {
    appearance: none;
    background-color: $textFieldBgColor;
    border: 1px solid $textFieldBorderColor;
    border-radius: $textFieldBorderRadius;
    color: $textFieldTextColor;
    font-size: $textFieldFontMd;
    line-height: 5.5;
    padding: $textFieldSpacingSm $textFieldSpacingMd;
    transition: $textFieldTransition;
    width: 100%;

    &::placeholder {
      color: $textFieldPlaceholderColor;
    }

    &:focus {
      box-shadow: 0 0 0 2px rgba($textFieldBorderColorFocus, 0.2);
      outline: none;
    }
  }

  &__helper-text {
    color: $textFieldHelperTextColor;
    font-size: $textFieldFontSm;
    margin-top: $textFieldSpacingXs;
    transition: $textFieldTransition;

    &--error {
      color: $textFieldErrorColor;
    }
  }

  &__icon {
    align-items: center;
    color: $textFieldTextColor;
    display: flex;
    justify-content: center;
    pointer-events: none;
    position: absolute;

    &--left {
      left: $textFieldSpacingSm;
    }

    &--right {
      right: $textFieldSpacingSm;
    }
  }

  &--small {
    .text-field__input {
      font-size: $textFieldFontSm;
      padding: $textFieldSpacingXs $textFieldSpacingSm;
    }

    .text-field__label {
      font-size: $textFieldFontSm;
    }
  }

  &--large {
    .text-field__input {
      font-size: $textFieldFontLg;
      padding: $textFieldSpacingMd $textFieldSpacingLg;
    }

    .text-field__label {
      font-size: $textFieldFontMd;
    }
  }

  &--focused {
    .text-field__label {
      color: $textFieldBorderColorFocus;
    }

    .text-field__input {
      border-color: $textFieldBorderColorFocus;
    }
  }

  &--error {
    .text-field__input {
      border-color: $textFieldErrorColor;
    }

    &.text-field--focused .text-field__input {
      box-shadow: 0 0 0 2px rgba($textFieldErrorColor, 0.2);
    }
  }

  &--disabled {
    cursor: not-allowed;
    opacity: 0.7;

    .text-field__input {
      background-color: $textFieldBgColorDisabled;
      border-color: $textFieldBorderColor;
      color: $textFieldTextColorDisabled;
      height: 100px;
      pointer-events: none;
    }
  }

  &--with-left-icon {
    .text-field__input {
      padding-left: calc($textFieldSpacingMd * 2 + 16px);
    }
  }

  &--with-right-icon {
    .text-field__input {
      padding-right: calc($textFieldSpacingMd * 2 + 16px);
    }
  }
}
/* stylelint-enable no-descending-specificity */